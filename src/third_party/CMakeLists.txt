ADD_SUBDIRECTORY(colamd)
ADD_SUBDIRECTORY(daisy)

IF (WITH_FAST_DETECTOR)
  ADD_SUBDIRECTORY(fast)
ENDIF (WITH_FAST_DETECTOR)

ADD_SUBDIRECTORY(flann)
ADD_SUBDIRECTORY(glog)
ADD_SUBDIRECTORY(gtest)
ADD_SUBDIRECTORY(gflags)
ADD_SUBDIRECTORY(ldl)
ADD_SUBDIRECTORY(ssba)

IF(NOT WITH_SYSTEM_CERES)
  SET(GFLAGS_LIBRARIES gflags)
  SET(GFLAGS_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/gflags)
  SET(GFLAGS_FOUND True)

  SET(GLOG_LIBRARIES glog)
  SET(GLOG_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/glog/src)
  SET(GLOG_FOUND True)

  SET(EIGEN_INCLUDE_DIRS ${CMAKE_CURRENT_SOURCE_DIR}/eigen)

  ADD_SUBDIRECTORY(ceres)
ENDIF(NOT WITH_SYSTEM_CERES)

IF(WIN32 OR APPLE)
  ADD_SUBDIRECTORY(jpeg-7)
ENDIF(WIN32 OR APPLE)

IF (WIN32)
  ADD_SUBDIRECTORY(pthreads-w32)
ENDIF (WIN32)

IF(APPLE OR WIN32)
  ADD_SUBDIRECTORY(png)
  ADD_SUBDIRECTORY(zlib)
  ADD_SUBDIRECTORY(OpenExif)
ENDIF(APPLE OR WIN32)

#Installation macro for all third parties headers
LIBMV_INSTALL_ALL_HEADERS()
